function initMap(){var e=new google.maps.Map(document.getElementById("page-map"),{zoom:16,scrollwheel:!1,center:{lat:59.94135,lng:30.32308}}),t={lat:59.93879,lng:30.32308},n={url:"img/icon-map-pointer.png"};new google.maps.Marker({position:t,icon:n,draggable:!1,map:e})}function showNav(){showToggle(),showHeader(),showMenu()}function hideNav(){hideToggle(),hideHeader(),hideMenu()}function showToggle(){toggle.classList.remove(PAGE_HEADER_BL+TOGGLE_EL+CLOSE_STATE),toggle.classList.add(PAGE_HEADER_BL+TOGGLE_EL+OPEN_STATE)}function hideToggle(){toggle.classList.remove(PAGE_HEADER_BL+TOGGLE_EL+OPEN_STATE),toggle.classList.add(PAGE_HEADER_BL+TOGGLE_EL+CLOSE_STATE)}function showHeader(){headerContainer.classList.add(PAGE_HEADER_BL+CONTAINER_EL+OPEN_STATE),headerInner.classList.add(PAGE_HEADER_BL+INNER_EL+OPEN_STATE)}function hideHeader(){headerContainer.classList.remove(PAGE_HEADER_BL+CONTAINER_EL+OPEN_STATE),headerInner.classList.remove(PAGE_HEADER_BL+INNER_EL+OPEN_STATE)}function showMenu(){nav.classList.remove(PAGE_HEADER_BL+NAV_WRAP_EL+HIDDEN_STATE),isAppsPresent()&&pageApps.classList.add(PAGE_APPS_BL+OPEN_STATE)}function hideMenu(){isAppsPresent()&&pageApps.classList.remove(PAGE_APPS_BL+OPEN_STATE),nav.classList.add(PAGE_HEADER_BL+NAV_WRAP_EL+HIDDEN_STATE)}function isNavHidden(){return document.querySelector("."+PAGE_HEADER_BL+NAV_WRAP_EL+HIDDEN_STATE)}function isAppsPresent(){return document.querySelector("."+PAGE_APPS_BL)}function isDesktop(e){return window.matchMedia("(min-width: "+e+"px)").matches}var PAGE_HEADER_BL="page-header",PAGE_APPS_BL="page-apps",MODAL_CONTENT_BL="modal-content",BTN_BL="btn",TOGGLE_EL="__toggle",NAV_WRAP_EL="__nav-wrap",CONTAINER_EL="__container",INNER_EL="__inner",HIDDEN_STATE="--hidden",CLOSE_STATE="--close",OPEN_STATE="--open",SHOW_STATE="--show",FAILURE_STATE="--failure",OK_STATE="--ok",CONFIRM_STATE="--confirmation",toggle=document.querySelector("."+PAGE_HEADER_BL+TOGGLE_EL),nav=document.querySelector("."+PAGE_HEADER_BL+NAV_WRAP_EL),headerContainer=document.querySelector("."+PAGE_HEADER_BL+CONTAINER_EL),headerInner=document.querySelector("."+PAGE_HEADER_BL+INNER_EL),pageApps=document.querySelector("."+PAGE_APPS_BL),desktopScreenSize=960;toggle.addEventListener("click",function(e){e.preventDefault(),isNavHidden()?showNav():hideNav()}),window.addEventListener("resize",function(e){e.preventDefault(),!isNavHidden()&&isDesktop(desktopScreenSize)&&hideNav()});var form=document.querySelector("#form-registration"),popupFailure=document.querySelector("."+MODAL_CONTENT_BL+FAILURE_STATE),popupSuccess=document.querySelector("."+MODAL_CONTENT_BL),buttonOk=document.querySelector("."+BTN_BL+OK_STATE),buttonConfirm=document.querySelector("."+BTN_BL+CONFIRM_STATE);!function(){function e(e,t){var n=new XMLHttpRequest,r=(new Date).getTime();n.open("post","https://echo.htmlacademy.ru/adaptive?"+r),n.addEventListener("readystatechange",function(){4==n.readyState&&t(n.responseText)}),n.addEventListener("load",function(){popupSuccess.classList.remove(MODAL_CONTENT_BL+HIDDEN_STATE),popupSuccess.classList.add(MODAL_CONTENT_BL+SHOW_STATE),form.reset()}),n.addEventListener("error",function(){popupFailure.classList.remove(MODAL_CONTENT_BL+HIDDEN_STATE),popupSuccess.classList.add(MODAL_CONTENT_BL+SHOW_STATE)}),n.send(e)}"FormData"in window&&"FileReader"in window&&form&&(form.addEventListener("submit",function(t){t.preventDefault();var n=new FormData(form);e(n,function(e){console.log(e)})}),buttonConfirm.addEventListener("click",function(e){e.preventDefault(),popupSuccess.classList.remove(MODAL_CONTENT_BL+SHOW_STATE),popupSuccess.classList.add(MODAL_CONTENT_BL+HIDDEN_STATE)}),buttonOk.addEventListener("click",function(e){e.preventDefault(),popupFailure.classList.remove(MODAL_CONTENT_BL+SHOW_STATE),popupFailure.classList.add(MODAL_CONTENT_BL+HIDDEN_STATE)}))}(),function(){function e(e,t,n){var r=parseInt(e.value);if(t){if(r>=a)return;r+=1}else{if(i>=r)return;r-=1}e.value=r+" "+n}if(document.querySelector(".registration-form__travel")){var t=document.getElementById("days-output"),n=document.getElementById("btn-day-minus"),r=document.getElementById("btn-day-plus"),s="дн",i=0,a=999;n.addEventListener("click",function(n){n.preventDefault(),e(t,!1,s)}),r.addEventListener("click",function(n){n.preventDefault(),e(t,!0,s)})}}(),function(){function e(){var e="{{index-number}}",t=document.getElementById("traveler-item-template").innerHTML,n=r.querySelectorAll(".registration-form__travelers .traveler-item").length+1,s=t.split(e).join(n.toString()),i=document.createElement("div");i.classList.add("registration-form__wrap"),i.classList.add("registration-form__wrap--traveler-item"),i.innerHTML=s,r.appendChild(i)}function t(){r.removeChild(document.querySelector(".registration-form__wrap--traveler-item:last-child"))}function n(e,t,n){var r=parseInt(e.value);if(t){if(r>=u)return;r+=1}else{if(o>=r)return;r-=1}e.value=r+" "+n}if(document.querySelector(".registration-form__travelers")){var r=document.querySelector(".registration-form__travelers"),s=document.getElementById("persons"),i=document.getElementById("btn-person-minus"),a=document.getElementById("btn-person-plus"),c="чел",o=0,u=999;a.addEventListener("click",function(t){t.preventDefault(),e(),n(s,!0,c)}),i.addEventListener("click",function(e){e.preventDefault(),t(),n(s,!1,c)})}}(),document.createElement("picture"),function(e){var t=navigator.userAgent;e.HTMLPictureElement&&/ecko/.test(t)&&t.match(/rv\:(\d+)/)&&RegExp.$1<41&&addEventListener("resize",function(){var t,n=document.createElement("source"),r=function(e){var t,r,s=e.parentNode;"PICTURE"===s.nodeName.toUpperCase()?(t=n.cloneNode(),s.insertBefore(t,s.firstElementChild),setTimeout(function(){s.removeChild(t)})):(!e._pfLastSize||e.offsetWidth>e._pfLastSize)&&(e._pfLastSize=e.offsetWidth,r=e.sizes,e.sizes+=",100vw",setTimeout(function(){e.sizes=r}))},s=function(){var e,t=document.querySelectorAll("picture > img, img[srcset][sizes]");for(e=0;e<t.length;e++)r(t[e])},i=function(){clearTimeout(t),t=setTimeout(s,99)},a=e.matchMedia&&matchMedia("(orientation: landscape)"),c=function(){i(),a&&a.addListener&&a.addListener(i)};return n.srcset="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",/^[c|i]|d$/.test(document.readyState||"")?c():document.addEventListener("DOMContentLoaded",c),i}())}(window),function(e,t,n){"use strict";function r(e){return" "===e||"	"===e||"\n"===e||"\f"===e||"\r"===e}function s(t,n){var r=new e.Image;return r.onerror=function(){w[t]=!1,ee()},r.onload=function(){w[t]=1===r.width,ee()},r.src=n,"pending"}function i(){x=!1,k=e.devicePixelRatio,G={},z={},g.DPR=k||1,q.width=Math.max(e.innerWidth||0,N.clientWidth),q.height=Math.max(e.innerHeight||0,N.clientHeight),q.vw=q.width/100,q.vh=q.height/100,h=[q.height,q.width,k].join("-"),q.em=g.getEmValue(),q.rem=q.em}function a(e,t,n,r){var s,i,a,c;return"saveData"===D.algorithm?e>2.7?c=n+1:(i=t-n,s=Math.pow(e-.6,1.5),a=i*s,r&&(a+=.1*s),c=e+a):c=n>1?Math.sqrt(e*t):e,c>n}function c(e){var t,n=g.getSet(e),r=!1;"pending"!==n&&(r=h,n&&(t=g.setRes(n),g.applySetCandidate(t,e))),e[g.ns].evaled=r}function o(e,t){return e.res-t.res}function u(e,t,n){var r;return!n&&t&&(n=e[g.ns].sets,n=n&&n[n.length-1]),r=l(t,n),r&&(t=g.makeUrl(t),e[g.ns].curSrc=t,e[g.ns].curCan=r,r.res||Z(r,r.set.sizes)),r}function l(e,t){var n,r,s;if(e&&t)for(s=g.parseSet(t),e=g.makeUrl(e),n=0;n<s.length;n++)if(e===g.makeUrl(s[n].url)){r=s[n];break}return r}function d(e,t){var n,r,s,i,a=e.getElementsByTagName("source");for(n=0,r=a.length;r>n;n++)s=a[n],s[g.ns]=!0,i=s.getAttribute("srcset"),i&&t.push({srcset:i,media:s.getAttribute("media"),type:s.getAttribute("type"),sizes:s.getAttribute("sizes")})}function p(e,t){function n(t){var n,r=t.exec(e.substring(p));return r?(n=r[0],p+=n.length,n):void 0}function s(){var e,n,r,s,i,o,u,l,d,p=!1,m={};for(s=0;s<c.length;s++)i=c[s],o=i[i.length-1],u=i.substring(0,i.length-1),l=parseInt(u,10),d=parseFloat(u),j.test(u)&&"w"===o?((e||n)&&(p=!0),0===l?p=!0:e=l):K.test(u)&&"x"===o?((e||n||r)&&(p=!0),0>d?p=!0:n=d):j.test(u)&&"h"===o?((r||n)&&(p=!0),0===l?p=!0:r=l):p=!0;p||(m.url=a,e&&(m.w=e),n&&(m.d=n),r&&(m.h=r),r||n||e||(m.d=1),1===m.d&&(t.has1x=!0),m.set=t,f.push(m))}function i(){for(n(U),o="",u="in descriptor";;){if(l=e.charAt(p),"in descriptor"===u)if(r(l))o&&(c.push(o),o="",u="after descriptor");else{if(","===l)return p+=1,o&&c.push(o),void s();if("("===l)o+=l,u="in parens";else{if(""===l)return o&&c.push(o),void s();o+=l}}else if("in parens"===u)if(")"===l)o+=l,u="in descriptor";else{if(""===l)return c.push(o),void s();o+=l}else if("after descriptor"===u)if(r(l));else{if(""===l)return void s();u="in descriptor",p-=1}p+=1}}for(var a,c,o,u,l,d=e.length,p=0,f=[];;){if(n($),p>=d)return f;a=n(Q),c=[],","===a.slice(-1)?(a=a.replace(V,""),s()):i()}}function f(e){function t(e){function t(){i&&(a.push(i),i="")}function n(){a[0]&&(c.push(a),a=[])}for(var s,i="",a=[],c=[],o=0,u=0,l=!1;;){if(s=e.charAt(u),""===s)return t(),n(),c;if(l){if("*"===s&&"/"===e[u+1]){l=!1,u+=2,t();continue}u+=1}else{if(r(s)){if(e.charAt(u-1)&&r(e.charAt(u-1))||!i){u+=1;continue}if(0===o){t(),u+=1;continue}s=" "}else if("("===s)o+=1;else if(")"===s)o-=1;else{if(","===s){t(),n(),u+=1;continue}if("/"===s&&"*"===e.charAt(u+1)){l=!0,u+=2;continue}}i+=s,u+=1}}}function n(e){return l.test(e)&&parseFloat(e)>=0?!0:d.test(e)?!0:"0"===e||"-0"===e||"+0"===e?!0:!1}var s,i,a,c,o,u,l=/^(?:[+-]?[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?(?:ch|cm|em|ex|in|mm|pc|pt|px|rem|vh|vmin|vmax|vw)$/i,d=/^calc\((?:[0-9a-z \.\+\-\*\/\(\)]+)\)$/i;for(i=t(e),a=i.length,s=0;a>s;s++)if(c=i[s],o=c[c.length-1],n(o)){if(u=o,c.pop(),0===c.length)return u;if(c=c.join(" "),g.matchesMedia(c))return u}return"100vw"}t.createElement("picture");var m,E,A,h,g={},v=function(){},_=t.createElement("img"),L=_.getAttribute,T=_.setAttribute,S=_.removeAttribute,N=t.documentElement,w={},D={algorithm:""},y="data-pfsrc",P=y+"set",O=navigator.userAgent,R=/rident/.test(O)||/ecko/.test(O)&&O.match(/rv\:(\d+)/)&&RegExp.$1>35,B="currentSrc",C=/\s+\+?\d+(e\d+)?w/,H=/(\([^)]+\))?\s*(.+)/,I=e.picturefillCFG,M="position:absolute;left:0;visibility:hidden;display:block;padding:0;border:none;font-size:1em;width:1em;overflow:hidden;clip:rect(0px, 0px, 0px, 0px)",b="font-size:100%!important;",x=!0,G={},z={},k=e.devicePixelRatio,q={px:1,"in":96},W=t.createElement("a"),F=!1,U=/^[ \t\n\r\u000c]+/,$=/^[, \t\n\r\u000c]+/,Q=/^[^ \t\n\r\u000c]+/,V=/[,]+$/,j=/^\d+$/,K=/^-?(?:[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?$/,J=function(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r||!1):e.attachEvent&&e.attachEvent("on"+t,n)},X=function(e){var t={};return function(n){return n in t||(t[n]=e(n)),t[n]}},Y=function(){var e=/^([\d\.]+)(em|vw|px)$/,t=function(){for(var e=arguments,t=0,n=e[0];++t in e;)n=n.replace(e[t],e[++t]);return n},n=X(function(e){return"return "+t((e||"").toLowerCase(),/\band\b/g,"&&",/,/g,"||",/min-([a-z-\s]+):/g,"e.$1>=",/max-([a-z-\s]+):/g,"e.$1<=",/calc([^)]+)/g,"($1)",/(\d+[\.]*[\d]*)([a-z]+)/g,"($1 * e.$2)",/^(?!(e.[a-z]|[0-9\.&=|><\+\-\*\(\)\/])).*/gi,"")+";"});return function(t,r){var s;if(!(t in G))if(G[t]=!1,r&&(s=t.match(e)))G[t]=s[1]*q[s[2]];else try{G[t]=new Function("e",n(t))(q)}catch(i){}return G[t]}}(),Z=function(e,t){return e.w?(e.cWidth=g.calcListLength(t||"100vw"),e.res=e.w/e.cWidth):e.res=e.d,e},ee=function(e){var n,r,s,i=e||{};if(i.elements&&1===i.elements.nodeType&&("IMG"===i.elements.nodeName.toUpperCase()?i.elements=[i.elements]:(i.context=i.elements,i.elements=null)),n=i.elements||g.qsa(i.context||t,i.reevaluate||i.reselect?g.sel:g.selShort),s=n.length){for(g.setupRun(i),F=!0,r=0;s>r;r++)g.fillImg(n[r],i);g.teardownRun(i)}};m=e.console&&console.warn?function(e){console.warn(e)}:v,B in _||(B="src"),w["image/jpeg"]=!0,w["image/gif"]=!0,w["image/png"]=!0,w["image/svg+xml"]=t.implementation.hasFeature("http://wwwindow.w3.org/TR/SVG11/feature#Image","1.1"),g.ns=("pf"+(new Date).getTime()).substr(0,9),g.supSrcset="srcset"in _,g.supSizes="sizes"in _,g.supPicture=!!e.HTMLPictureElement,g.supSrcset&&g.supPicture&&!g.supSizes&&!function(e){_.srcset="data:,a",e.src="data:,a",g.supSrcset=_.complete===e.complete,g.supPicture=g.supSrcset&&g.supPicture}(t.createElement("img")),g.selShort="picture>img,img[srcset]",g.sel=g.selShort,g.cfg=D,g.supSrcset&&(g.sel+=",img["+P+"]"),g.DPR=k||1,g.u=q,g.types=w,A=g.supSrcset&&!g.supSizes,g.setSize=v,g.makeUrl=X(function(e){return W.href=e,W.href}),g.qsa=function(e,t){return e.querySelectorAll(t)},g.matchesMedia=function(){return e.matchMedia&&(matchMedia("(min-width: 0.1em)")||{}).matches?g.matchesMedia=function(e){return!e||matchMedia(e).matches}:g.matchesMedia=g.mMQ,g.matchesMedia.apply(this,arguments)},g.mMQ=function(e){return e?Y(e):!0},g.calcLength=function(e){var t=Y(e,!0)||!1;return 0>t&&(t=!1),t},g.supportsType=function(e){return e?w[e]:!0},g.parseSize=X(function(e){var t=(e||"").match(H);return{media:t&&t[1],length:t&&t[2]}}),g.parseSet=function(e){return e.cands||(e.cands=p(e.srcset,e)),e.cands},g.getEmValue=function(){var e;if(!E&&(e=t.body)){var n=t.createElement("div"),r=N.style.cssText,s=e.style.cssText;n.style.cssText=M,N.style.cssText=b,e.style.cssText=b,e.appendChild(n),E=n.offsetWidth,e.removeChild(n),E=parseFloat(E,10),N.style.cssText=r,e.style.cssText=s}return E||16},g.calcListLength=function(e){if(!(e in z)||D.uT){var t=g.calcLength(f(e));z[e]=t?t:q.width}return z[e]},g.setRes=function(e){var t;if(e){t=g.parseSet(e);for(var n=0,r=t.length;r>n;n++)Z(t[n],e.sizes)}return t},g.setRes.res=Z,g.applySetCandidate=function(e,t){if(e.length){var n,r,s,i,c,l,d,p,f,m=t[g.ns],E=g.DPR;if(l=m.curSrc||t[B],d=m.curCan||u(t,l,e[0].set),d&&d.set===e[0].set&&(f=R&&!t.complete&&d.res-.1>E,f||(d.cached=!0,d.res>=E&&(c=d))),!c)for(e.sort(o),i=e.length,c=e[i-1],r=0;i>r;r++)if(n=e[r],n.res>=E){s=r-1,c=e[s]&&(f||l!==g.makeUrl(n.url))&&a(e[s].res,n.res,E,e[s].cached)?e[s]:n;break}c&&(p=g.makeUrl(c.url),m.curSrc=p,m.curCan=c,p!==l&&g.setSrc(t,c),g.setSize(t))}},g.setSrc=function(e,t){var n;e.src=t.url,"image/svg+xml"===t.set.type&&(n=e.style.width,e.style.width=e.offsetWidth+1+"px",e.offsetWidth+1&&(e.style.width=n))},g.getSet=function(e){var t,n,r,s=!1,i=e[g.ns].sets;for(t=0;t<i.length&&!s;t++)if(n=i[t],n.srcset&&g.matchesMedia(n.media)&&(r=g.supportsType(n.type))){"pending"===r&&(n=r),s=n;break}return s},g.parseSets=function(e,t,r){var s,i,a,c,o=t&&"PICTURE"===t.nodeName.toUpperCase(),u=e[g.ns];(u.src===n||r.src)&&(u.src=L.call(e,"src"),u.src?T.call(e,y,u.src):S.call(e,y)),(u.srcset===n||r.srcset||!g.supSrcset||e.srcset)&&(s=L.call(e,"srcset"),u.srcset=s,c=!0),u.sets=[],o&&(u.pic=!0,d(t,u.sets)),u.srcset?(i={srcset:u.srcset,sizes:L.call(e,"sizes")},u.sets.push(i),a=(A||u.src)&&C.test(u.srcset||""),a||!u.src||l(u.src,i)||i.has1x||(i.srcset+=", "+u.src,i.cands.push({url:u.src,d:1,set:i}))):u.src&&u.sets.push({srcset:u.src,sizes:null}),u.curCan=null,u.curSrc=n,u.supported=!(o||i&&!g.supSrcset||a),c&&g.supSrcset&&!u.supported&&(s?(T.call(e,P,s),e.srcset=""):S.call(e,P)),u.supported&&!u.srcset&&(!u.src&&e.src||e.src!==g.makeUrl(u.src))&&(null===u.src?e.removeAttribute("src"):e.src=u.src),u.parsed=!0},g.fillImg=function(e,t){var n,r=t.reselect||t.reevaluate;e[g.ns]||(e[g.ns]={}),n=e[g.ns],(r||n.evaled!==h)&&((!n.parsed||t.reevaluate)&&g.parseSets(e,e.parentNode,t),n.supported?n.evaled=h:c(e))},g.setupRun=function(){(!F||x||k!==e.devicePixelRatio)&&i()},g.supPicture?(ee=v,g.fillImg=v):!function(){var n,r=e.attachEvent?/d$|^c/:/d$|^c|^i/,s=function(){var e=t.readyState||"";i=setTimeout(s,"loading"===e?200:999),t.body&&(g.fillImgs(),n=n||r.test(e),n&&clearTimeout(i))},i=setTimeout(s,t.body?9:99),a=function(e,t){var n,r,s=function(){var i=new Date-r;t>i?n=setTimeout(s,t-i):(n=null,e())};return function(){r=new Date,n||(n=setTimeout(s,t))}},c=N.clientHeight,o=function(){x=Math.max(e.innerWidth||0,N.clientWidth)!==q.width||N.clientHeight!==c,c=N.clientHeight,x&&g.fillImgs()};J(e,"resize",a(o,99)),J(t,"readystatechange",s)}(),g.picturefill=ee,g.fillImgs=ee,g.teardownRun=v,ee._=g,e.picturefillCFG={pf:g,push:function(e){var t=e.shift();"function"==typeof g[t]?g[t].apply(g,e):(D[t]=e[0],F&&g.fillImgs({reselect:!0}))}};for(;I&&I.length;)e.picturefillCFG.push(I.shift());e.picturefill=ee,"object"==typeof module&&"object"==typeof module.exports?module.exports=ee:"function"==typeof define&&define.amd&&define("picturefill",function(){return ee}),g.supPicture||(w["image/webp"]=s("image/webp","data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA=="))}(window,document);